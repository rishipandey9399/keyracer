// Professional Skills Lab - Optimized Version
console.log('Loading Professional Skills Lab...');

// Comprehensive skill templates
const skillTemplates = {
    resume: `ALEXANDRA CHEN
Senior Product Manager | Digital Innovation Specialist
Email: alexandra.chen@email.com | Phone: (555) 987-6543
LinkedIn: linkedin.com/in/alexandrachen | Portfolio: alexandrachen.dev

PROFESSIONAL SUMMARY
Results-driven Product Manager with 5+ years of experience leading cross-functional teams to deliver innovative digital solutions. Proven track record of launching 12+ successful products that generated $15M+ in revenue. Expert in agile methodologies, user experience design, and data-driven decision making.

CORE COMPETENCIES
‚Ä¢ Product Strategy & Roadmap Development
‚Ä¢ Cross-functional Team Leadership (Engineering, Design, Marketing)
‚Ä¢ User Research & Market Analysis
‚Ä¢ Agile/Scrum Methodologies & Sprint Planning
‚Ä¢ Data Analytics & Performance Metrics (SQL, Tableau, Google Analytics)
‚Ä¢ A/B Testing & Conversion Optimization
‚Ä¢ Stakeholder Management & Executive Communication

PROFESSIONAL EXPERIENCE

Senior Product Manager | TechVision Inc. | March 2021 - Present
‚Ä¢ Led product development for AI-powered analytics platform serving 50,000+ users
‚Ä¢ Increased user engagement by 67% through strategic feature prioritization and UX improvements
‚Ä¢ Managed $3.2M product budget and coordinated 15-member cross-functional team
‚Ä¢ Reduced time-to-market by 35% by implementing lean development processes
‚Ä¢ Collaborated with C-suite executives to align product strategy with business objectives

Product Manager | StartupFlow | January 2020 - February 2021
‚Ä¢ Launched mobile application that achieved 100K downloads within first 6 months
‚Ä¢ Conducted extensive user research resulting in 23% improvement in user retention
‚Ä¢ Established product analytics framework using SQL and Tableau for data-driven insights
‚Ä¢ Managed product backlog and sprint planning for 8-person development team

EDUCATION
Master of Business Administration (MBA) | Stanford Graduate School of Business | 2019
Concentration: Technology & Innovation Management | GPA: 3.9/4.0

Bachelor of Science in Computer Science | UC Berkeley | 2017
Magna Cum Laude | Phi Beta Kappa | GPA: 3.85/4.0

CERTIFICATIONS & CONTINUOUS LEARNING
‚Ä¢ Certified Scrum Product Owner (CSPO)
‚Ä¢ Google Analytics Individual Qualification (IQ)
‚Ä¢ AWS Cloud Practitioner
‚Ä¢ Currently pursuing: Advanced Data Analytics Certificate (MIT)`,

    'cover-letter': `Dear Ms. Rodriguez,

I am writing to express my strong interest in the Senior UX Designer position at InnovateTech Solutions. With over four years of experience designing user-centered digital experiences and a passion for creating intuitive interfaces that solve real-world problems, I am excited about the opportunity to contribute to your innovative design team.

Your recent product launch of the ConnectFlow platform particularly caught my attention. The seamless integration of complex workflows into an elegant, user-friendly interface demonstrates exactly the kind of thoughtful design approach I strive to achieve in my own work.

In my current role as UX Designer at DigitalCraft Studios, I have:

‚Ä¢ Led the complete redesign of a B2B SaaS platform, resulting in a 45% increase in user engagement and 60% reduction in support tickets
‚Ä¢ Conducted comprehensive user research including interviews, surveys, and usability testing with 200+ participants across diverse demographics
‚Ä¢ Collaborated closely with product managers and engineering teams to ensure feasible implementation of design solutions
‚Ä¢ Established and maintained a comprehensive design system that improved development efficiency by 30%

What sets me apart is my ability to balance creative vision with data-driven decision making. For example, when tasked with improving the onboarding experience for our mobile app, I combined quantitative analytics with qualitative user feedback to identify pain points. The resulting design changes led to a 78% improvement in user completion rates.

I would welcome the opportunity to discuss how my design expertise, collaborative approach, and passion for user-centered design can contribute to InnovateTech's continued success. Thank you for considering my application.

Best regards,
Sarah Chen

Attachments: Portfolio (www.sarahchen-design.com), Resume, References`,

    email: `Subject: Q2 2025 Product Development Roadmap - Strategic Planning Session Required

Dear Product Development Team,

I hope this message finds you well. As we transition into the second quarter of 2025, I wanted to reach out regarding our upcoming strategic planning session and share important updates about our product development roadmap.

MEETING DETAILS:
Date: Monday, June 23rd, 2025
Time: 2:00 PM - 4:30 PM PST
Location: Innovation Hub Conference Room (Building A, 4th Floor)
Virtual Option: Microsoft Teams (link will be sent separately)

KEY DISCUSSION POINTS:

1. Q1 Performance Review & Learnings
   ‚Ä¢ Analysis of completed features and their impact metrics
   ‚Ä¢ Customer satisfaction scores and feedback summary
   ‚Ä¢ Technical debt assessment and prioritization

2. Q2 Strategic Initiatives
   ‚Ä¢ AI-powered analytics dashboard development
   ‚Ä¢ Mobile application performance optimization
   ‚Ä¢ Integration with third-party enterprise tools
   ‚Ä¢ Enhanced security features implementation

3. Resource Allocation & Timeline Planning
   ‚Ä¢ Sprint capacity planning for next 12 weeks
   ‚Ä¢ Cross-functional team coordination requirements
   ‚Ä¢ Budget considerations for external tools and services

Please confirm your attendance by Wednesday, June 18th. Looking forward to a productive planning session and an exciting Q2!

Best regards,

Jennifer Kim
Senior Product Manager
TechFlow Solutions
Email: jennifer.kim@techflow.com
Direct: (555) 234-5678`,

    report: `QUARTERLY BUSINESS PERFORMANCE REPORT
Q1 2025 - TechFlow Solutions

EXECUTIVE SUMMARY
TechFlow Solutions achieved strong performance in Q1 2025, exceeding revenue targets by 12% and maintaining robust operational efficiency. This comprehensive report outlines our key achievements, challenges, and strategic initiatives for the upcoming quarter.

FINANCIAL PERFORMANCE
Revenue Analysis:
‚Ä¢ Total Revenue: $2.4M (Target: $2.14M) - 12% above target
‚Ä¢ Recurring Revenue: $1.8M (75% of total revenue)
‚Ä¢ New Customer Acquisition: $600K (25% of total revenue)
‚Ä¢ Year-over-Year Growth: 28% increase from Q1 2024

Profitability Metrics:
‚Ä¢ Gross Margin: 68% (improved from 65% in Q4 2024)
‚Ä¢ Operating Margin: 22% (maintained from previous quarter)
‚Ä¢ EBITDA: $528K (22% of revenue)
‚Ä¢ Net Profit: $384K (16% of revenue)

OPERATIONAL HIGHLIGHTS

Product Development:
‚Ä¢ Successfully launched AI-powered analytics dashboard
‚Ä¢ Completed 95% of planned feature releases
‚Ä¢ Reduced average bug resolution time by 35%
‚Ä¢ Achieved 99.8% system uptime across all platforms

Customer Success:
‚Ä¢ Customer Satisfaction Score: 8.7/10 (industry average: 7.2)
‚Ä¢ Net Promoter Score: 67 (increased from 61 in Q4)
‚Ä¢ Customer Retention Rate: 94% (target: 92%)
‚Ä¢ Support Ticket Resolution: Average 4.2 hours (target: 6 hours)

STRATEGIC INITIATIVES FOR Q2 2025

Growth Objectives:
1. International Expansion
   ‚Ä¢ Target Markets: European Union and Canadian markets
   ‚Ä¢ Investment: $300K for localization and compliance
   ‚Ä¢ Expected Revenue Impact: $400K in Q2, $1.2M annually

2. Product Innovation
   ‚Ä¢ Launch mobile application (iOS and Android)
   ‚Ä¢ Implement advanced machine learning capabilities
   ‚Ä¢ Develop enterprise-grade security features

CONCLUSION
Q1 2025 demonstrated TechFlow Solutions' strong market position and operational excellence. With strategic investments in growth initiatives and continued focus on customer success, we are well-positioned to achieve our ambitious goals for Q2 and beyond.

Report Prepared By: Michael Johnson, VP Strategy & Operations
Date: April 15, 2025`,

    'monthly-report': `MONTHLY PROJECT STATUS REPORT
March 2024

PROJECT: E-Commerce Platform Redesign
PROJECT MANAGER: John Doe
REPORTING PERIOD: March 1-31, 2024

EXECUTIVE SUMMARY
The E-Commerce Platform Redesign project continues to progress according to schedule. This month, we achieved significant milestones in user interface development and backend optimization. The project remains on track for the planned April 30th launch date.

PROJECT OVERVIEW
‚Ä¢ Project Start Date: January 15, 2024
‚Ä¢ Planned Completion: April 30, 2024
‚Ä¢ Current Status: 75% Complete
‚Ä¢ Budget Status: On track ($45,000 of $60,000 allocated)
‚Ä¢ Team Size: 8 members

ACCOMPLISHMENTS THIS MONTH
1. User Interface Development
   ‚Ä¢ Completed responsive design for mobile and tablet views
   ‚Ä¢ Implemented new product catalog interface
   ‚Ä¢ Enhanced shopping cart functionality with real-time updates

2. Backend Development
   ‚Ä¢ Optimized database queries improving load times by 40%
   ‚Ä¢ Implemented secure payment gateway integration
   ‚Ä¢ Enhanced user authentication and authorization systems

UPCOMING MILESTONES
Week 1 (April 1-7):
‚Ä¢ Complete user account management features
‚Ä¢ Finalize payment processing integration
‚Ä¢ Begin user acceptance testing

Week 2 (April 8-14):
‚Ä¢ Implement CDN for performance optimization
‚Ä¢ Complete security audit and penetration testing
‚Ä¢ Address all critical bug fixes

NEXT MONTH'S FOCUS
‚Ä¢ Complete final development and testing
‚Ä¢ Execute production deployment
‚Ä¢ Conduct post-launch monitoring and support

For questions or additional information, please contact:
John Doe, Project Manager
Email: john.doe@company.com
Phone: (555) 123-4567`,

    linkedin: `üöÄ Passionate Software Developer | Full-Stack Expert | Innovation Enthusiast

üí° Transforming ideas into powerful digital solutions with 3+ years of experience in modern web development.

üîß TECHNICAL EXPERTISE:
‚Ä¢ Frontend: React, Vue.js, TypeScript, HTML5, CSS3
‚Ä¢ Backend: Node.js, Python, Express, Django, REST APIs
‚Ä¢ Databases: PostgreSQL, MongoDB, Redis
‚Ä¢ Cloud: AWS, Azure, Docker, Kubernetes
‚Ä¢ Tools: Git, Jenkins, Jest, Webpack

üìà ACHIEVEMENTS & IMPACT:
‚úÖ Led development of 15+ scalable web applications serving 100k+ users
‚úÖ Improved application performance by 40% through optimization strategies
‚úÖ Reduced deployment time by 50% implementing CI/CD pipelines
‚úÖ Mentored 8 junior developers in best practices and modern frameworks
‚úÖ Contributed to open-source projects with 500+ GitHub stars

üèÜ PROFESSIONAL HIGHLIGHTS:
‚Ä¢ Senior Developer at TechCorp Solutions - Building next-gen e-commerce platforms
‚Ä¢ AWS Certified Solutions Architect - Cloud infrastructure specialist
‚Ä¢ Agile Certified Practitioner - Expert in collaborative development methodologies
‚Ä¢ Tech Conference Speaker - Sharing knowledge on modern development practices

ü§ù LET'S CONNECT:
Always excited to discuss technology, share knowledge, and explore collaboration opportunities. Whether you're a fellow developer, startup founder, or tech recruiter, I'd love to connect!

üìß john.doe@email.com
üîó Portfolio: johndoe.dev
üêô GitHub: github.com/johndoe
üì± Available for remote and hybrid opportunities worldwide

#SoftwareDevelopment #FullStack #React #NodeJS #AWS #TechLeadership #Innovation #OpenSource`,

    proposal: `PROJECT PROPOSAL: CUSTOMER DATA ANALYTICS PLATFORM
Submitted to: TechFlow Solutions Executive Committee
Prepared by: Analytics Development Team
Date: June 14, 2025

EXECUTIVE SUMMARY
This proposal outlines the development of a comprehensive Customer Data Analytics Platform that will transform how our organization collects, analyzes, and acts upon customer data. The platform will provide real-time insights, predictive analytics, and automated reporting capabilities to drive data-driven decision making across all departments.

PROJECT OVERVIEW
The Customer Data Analytics Platform represents a strategic investment in our data infrastructure that will enhance our competitive advantage and improve customer satisfaction through deeper insights and personalized experiences.

Key Objectives:
‚Ä¢ Centralize customer data from multiple touchpoints into a unified platform
‚Ä¢ Provide real-time analytics and dashboard visualization capabilities
‚Ä¢ Implement machine learning algorithms for predictive customer behavior analysis
‚Ä¢ Enable automated reporting and alert systems for key performance indicators
‚Ä¢ Ensure GDPR compliance and enterprise-grade security standards

BUSINESS JUSTIFICATION
Expected Benefits:
1. Operational Efficiency
   ‚Ä¢ Reduce manual reporting time by 80% (from 15 to 3 hours weekly)
   ‚Ä¢ Automate data synchronization across all customer touchpoints
   ‚Ä¢ Streamline decision-making process through real-time insights

2. Revenue Impact
   ‚Ä¢ Projected 15% increase in customer retention through predictive analytics
   ‚Ä¢ Estimated 25% improvement in marketing campaign effectiveness
   ‚Ä¢ Enhanced customer lifetime value through personalized experiences
   ‚Ä¢ Annual revenue impact: $1.2M - $1.8M

TECHNICAL SPECIFICATIONS
Platform Architecture:
‚Ä¢ Cloud-native solution built on AWS infrastructure
‚Ä¢ Microservices architecture for scalability and maintainability
‚Ä¢ Real-time data processing using Apache Kafka and Spark
‚Ä¢ PostgreSQL database with Redis caching layer
‚Ä¢ RESTful APIs for integration with existing systems

IMPLEMENTATION TIMELINE
Phase 1: Foundation (Months 1-3)
‚Ä¢ Infrastructure setup and core platform development
‚Ä¢ Basic data integration and ETL pipeline implementation

Phase 2: Advanced Analytics (Months 4-6)
‚Ä¢ Machine learning model development and training
‚Ä¢ Advanced visualization and interactive dashboard features

Phase 3: Optimization & Scale (Months 7-9)
‚Ä¢ Performance optimization and load testing
‚Ä¢ User training and change management program
‚Ä¢ Full production deployment and monitoring

BUDGET ANALYSIS
Development Costs:
‚Ä¢ Personnel: $485,000 (9 months, blended rate)
‚Ä¢ Infrastructure: $45,000 (AWS services and licensing)
‚Ä¢ Third-party tools and services: $35,000
‚Ä¢ Training and change management: $25,000
‚Ä¢ Contingency (10%): $59,000
‚Ä¢ Total Project Investment: $649,000

Return on Investment:
‚Ä¢ Year 1 Benefits: $800,000 - $1,200,000
‚Ä¢ Year 2 Benefits: $1,200,000 - $1,800,000
‚Ä¢ 3-Year ROI: 285% - 420%
‚Ä¢ Payback Period: 8-12 months

For questions or additional information, please contact:
Maria Rodriguez, Senior Analytics Manager
Email: maria.rodriguez@techflow.com
Phone: (555) 345-6789

This proposal is valid for 30 days from the date of submission.`,

    memo: `MEMORANDUM

TO: All Employees
FROM: Jennifer Park, Chief Executive Officer
DATE: June 14, 2025
RE: Implementation of Hybrid Work Policy and New Collaboration Tools

Dear Team,

I hope this memo finds everyone well and productive. Following extensive employee feedback, leadership consultation, and analysis of industry best practices, I am pleased to announce several important policy updates that will enhance our workplace flexibility and collaboration capabilities.

HYBRID WORK POLICY - EFFECTIVE JULY 1, 2025

After careful consideration of our post-pandemic work patterns and employee preferences, we are officially implementing a structured hybrid work policy that balances flexibility with collaboration needs.

Policy Details:
‚Ä¢ All employees are required to be in office minimum 2 days per week
‚Ä¢ Core collaboration days: Tuesdays and Thursdays (all hands in office)
‚Ä¢ Flexible days: Monday, Wednesday, Friday (choose in-office or remote)
‚Ä¢ Team meetings and collaborative sessions prioritized for in-office days

Benefits of This Approach:
‚Ä¢ Maintains team cohesion and spontaneous collaboration
‚Ä¢ Provides flexibility for focused work and work-life balance
‚Ä¢ Reduces commuting stress while preserving company culture
‚Ä¢ Optimizes office space utilization and operational costs

NEW COLLABORATION TOOLS ROLLOUT

To support our hybrid work environment, we are implementing several new technology solutions:

Microsoft Teams Premium Integration:
‚Ä¢ Advanced meeting features including real-time translation
‚Ä¢ Enhanced security and compliance capabilities
‚Ä¢ Training sessions scheduled for June 20-30

Digital Whiteboarding Platform (Miro):
‚Ä¢ Collaborative brainstorming and planning sessions
‚Ä¢ Template library for common workflows and processes

IMPLEMENTATION TIMELINE

June 15-20: Department heads will schedule team discussions about hybrid schedules
June 21-30: Technology training sessions for new collaboration tools
July 1: Official hybrid policy takes effect
August 1: New performance management framework begins

I am confident that these updates will enhance our work environment, improve collaboration, and support each team member's success.

Thank you for your continued dedication and adaptability.

Best regards,

Jennifer Park
Chief Executive Officer
TechFlow Solutions`,

    newsletter: `TECHFLOW SOLUTIONS QUARTERLY NEWSLETTER
Q2 2025 EDITION | VOLUME 8, ISSUE 2

üöÄ INNOVATION SPOTLIGHT

Welcome to another exciting edition of our quarterly newsletter! This quarter has been exceptional for TechFlow Solutions, marked by groundbreaking product launches, team achievements, and strategic partnerships that position us at the forefront of industry innovation.

- Jennifer Park, CEO

üìà COMPANY MILESTONES & ACHIEVEMENTS

RECORD-BREAKING QUARTER:
‚Ä¢ Revenue Growth: Achieved 28% year-over-year increase
‚Ä¢ Customer Satisfaction: Maintained 94% retention rate
‚Ä¢ Product Innovation: Launched 3 major features ahead of schedule
‚Ä¢ Team Expansion: Welcomed 12 talented new team members
‚Ä¢ Market Recognition: Named "Best Analytics Platform" by TechReview Magazine

üèÜ TEAM SPOTLIGHTS

EMPLOYEE OF THE QUARTER:
Congratulations to Sarah Chen, Senior UX Designer, for her exceptional work on the customer dashboard redesign project. Sarah's innovative approach resulted in a 67% improvement in user engagement.

NEW TEAM MEMBERS:
We're thrilled to welcome our new colleagues:
‚Ä¢ Dr. Amanda Foster - Director of Data Science
‚Ä¢ Kevin Liu - Senior Full-Stack Developer
‚Ä¢ Maria Santos - Customer Success Manager
‚Ä¢ David Kim - DevOps Engineer
‚Ä¢ Rachel Williams - Product Marketing Manager

üéâ PRODUCT LAUNCHES & UPDATES

MAJOR RELEASE: ANALYTICS PLATFORM 3.0
Our flagship platform received its most significant update ever:
‚Ä¢ Real-time data processing capabilities
‚Ä¢ Advanced machine learning integration
‚Ä¢ Improved user interface with drag-and-drop functionality
‚Ä¢ Enhanced security features and compliance tools
‚Ä¢ Mobile application for iOS and Android

CUSTOMER FEEDBACK:
"The new Analytics Platform 3.0 has transformed how we make decisions. The real-time insights and predictive capabilities have improved our efficiency by 40%." - Lisa Thompson, CEO of DataDriven Inc.

ü§ù STRATEGIC PARTNERSHIPS

MICROSOFT PARTNERSHIP:
Announced comprehensive integration with Microsoft Azure and Office 365, providing seamless workflow integration for enterprise customers.

SALESFORCE ALLIANCE:
Launched native Salesforce connector enabling automatic data synchronization and enhanced CRM analytics capabilities.

üåç COMMUNITY IMPACT & CORPORATE RESPONSIBILITY

TECHFLOW GIVES BACK:
‚Ä¢ STEM Education Initiative: Donated $50,000 to local schools for technology programs
‚Ä¢ Environmental Commitment: Achieved carbon-neutral status for all operations
‚Ä¢ Diversity & Inclusion: Launched mentorship program supporting underrepresented groups in tech
‚Ä¢ Community Volunteering: Team members contributed 500+ volunteer hours

üéØ LOOKING AHEAD: Q3 2025 GOALS

STRATEGIC OBJECTIVES:
‚Ä¢ International Expansion: Launch operations in 3 additional European countries
‚Ä¢ Product Innovation: Release mobile application and voice interface
‚Ä¢ Customer Growth: Target 25% increase in new customer acquisitions
‚Ä¢ Team Development: Implement advanced training programs and career pathways

üìû CONNECT WITH US

Follow us for daily updates and industry insights:
‚Ä¢ LinkedIn: @TechFlowSolutions
‚Ä¢ Twitter: @TechFlowTeam
‚Ä¢ YouTube: TechFlow Solutions Channel

Thank you for being part of the TechFlow Solutions family. Together, we're building the future of data analytics and empowering organizations worldwide to make smarter, data-driven decisions.

The TechFlow Solutions Team

¬© 2025 TechFlow Solutions. All rights reserved.
Visit us at: www.techflow.com`
};

console.log('Templates loaded:', Object.keys(skillTemplates));

// Global variables
let currentTemplate = '';
let startTime = null;
let timerInterval = null;
let isTyping = false;

// DOM Elements
let skillSelect, templateArea, proInput, wpmSpan, accuracySpan, errorsSpan, progressSpan;
let startBtn, resetBtn, timerDisplay, wordCount, progressBar;
let liveWPM, liveAccuracy, liveErrors, liveTime;

// Session statistics
let sessionStats = {
    totalSessions: parseInt(localStorage.getItem('pro-skills-sessions') || '0'),
    totalTime: parseInt(localStorage.getItem('pro-skills-time') || '0'),
    bestWPM: parseInt(localStorage.getItem('pro-skills-best-wpm') || '0'),
    avgAccuracy: parseFloat(localStorage.getItem('pro-skills-avg-accuracy') || '100')
};

function loadTemplate() {
    if (!skillSelect || !templateArea) {
        console.error('Required elements not found');
        return;
    }
    
    const skill = skillSelect.value;
    console.log('Loading template for:', skill);
    
    if (!skill) {
        templateArea.innerHTML = `
            <div style="padding: 2rem; text-align: center; color: #888;">
                <h3>üìù Professional Skills Laboratory</h3>
                <p>Select a document type from the dropdown to begin practicing professional typing scenarios.</p>
                <div style="margin-top: 1rem; font-size: 0.9rem;">
                    Available: Resume, Cover Letter, Business Email, Reports, Proposals, LinkedIn Profile, Memo, Newsletter
                </div>
            </div>
        `;
        currentTemplate = '';
        if (startBtn) {
            startBtn.disabled = true;
            startBtn.textContent = 'Start Practice';
        }
        return;
    }
    
    if (skillTemplates[skill]) {
        currentTemplate = skillTemplates[skill];
        templateArea.innerHTML = `<pre style="white-space: pre-wrap; font-family: 'JetBrains Mono', monospace; line-height: 1.6; font-size: 1rem;">${currentTemplate}</pre>`;
        
        if (startBtn) {
            startBtn.disabled = false;
            startBtn.innerHTML = '<i class="fas fa-play"></i> Start Practice';
        }
        
        resetStats();
        console.log('Template loaded successfully for:', skill);
    } else {
        templateArea.innerHTML = `<div style="padding: 20px; color: #ff6b6b;">Template "${skill}" not found</div>`;
        console.error('Template not found:', skill);
    }
}

function startPractice() {
    if (!currentTemplate || !proInput) {
        console.error('Cannot start practice - missing template or input');
        return;
    }
    
    // Reset and start
    proInput.value = '';
    proInput.disabled = false;
    proInput.focus();
    isTyping = true;
    
    startTime = Date.now();
    
    // Update button state
    if (startBtn) {
        startBtn.disabled = true;
        startBtn.innerHTML = '<i class="fas fa-keyboard"></i> Typing...';
    }
    
    // Start timer
    timerInterval = setInterval(() => {
        updateTimer();
        updateStats();
    }, 100);
    
    console.log('Practice started');
}

function resetPractice() {
    if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
    }
    
    startTime = null;
    isTyping = false;
    
    if (proInput) {
        proInput.value = '';
        proInput.disabled = true;
    }
    
    if (startBtn) {
        startBtn.disabled = false;
        startBtn.innerHTML = '<i class="fas fa-play"></i> Start Practice';
    }
    
    resetStats();
    console.log('Practice reset');
}

function updateTimer() {
    if (startTime && timerDisplay) {
        const elapsed = (Date.now() - startTime) / 1000;
        const mins = Math.floor(elapsed / 60);
        const secs = Math.floor(elapsed % 60);
        const formattedTime = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        timerDisplay.innerHTML = `<i class="fas fa-stopwatch"></i> ${formattedTime}`;
        if (liveTime) liveTime.textContent = formattedTime;
    }
}

function calculateStats() {
    const input = proInput.value;
    const template = currentTemplate;
    
    let errors = 0;
    let correctChars = 0;
    
    for (let i = 0; i < Math.max(input.length, template.length); i++) {
        if (i < input.length && i < template.length) {
            if (input[i] === template[i]) {
                correctChars++;
            } else {
                errors++;
            }
        } else {
            errors++;
        }
    }
    
    const accuracy = input.length > 0 ? Math.round((correctChars / Math.max(input.length, template.length)) * 100) : 100;
    
    const elapsed = startTime ? (Date.now() - startTime) / 1000 / 60 : 0;
    const wordsTyped = input.split(/\s+/).filter(word => word.length > 0).length;
    const wpm = elapsed > 0 ? Math.round(wordsTyped / elapsed) : 0;
    
    const progress = template.length > 0 ? Math.min((input.length / template.length) * 100, 100) : 0;
    
    return { errors, accuracy, wpm, progress };
}

function updateStats() {
    if (!isTyping) return;
    
    const stats = calculateStats();
    
    // Update displays
    if (wpmSpan) wpmSpan.textContent = stats.wpm;
    if (accuracySpan) accuracySpan.textContent = stats.accuracy;
    if (errorsSpan) errorsSpan.textContent = stats.errors;
    if (progressSpan) progressSpan.textContent = Math.round(stats.progress) + '%';
    
    if (liveWPM) liveWPM.textContent = stats.wpm;
    if (liveAccuracy) liveAccuracy.textContent = stats.accuracy;
    if (liveErrors) liveErrors.textContent = stats.errors;
    
    if (progressBar) {
        progressBar.style.width = stats.progress + '%';
    }
    
    // Update word count
    const inputWords = proInput.value.trim() ? proInput.value.trim().split(/\s+/).length : 0;
    const templateWords = currentTemplate.trim().split(/\s+/).length;
    if (wordCount) wordCount.textContent = `Words: ${inputWords} / ${templateWords}`;
    
    // Check completion
    if (proInput.value === currentTemplate) {
        completeSession(stats);
    }
    
    // Update best WPM
    if (stats.wpm > sessionStats.bestWPM) {
        sessionStats.bestWPM = stats.wpm;
        localStorage.setItem('pro-skills-best-wpm', stats.wpm.toString());
    }
}

function resetStats() {
    if (wpmSpan) wpmSpan.textContent = '0';
    if (accuracySpan) accuracySpan.textContent = '100';
    if (errorsSpan) errorsSpan.textContent = '0';
    if (progressSpan) progressSpan.textContent = '0%';
    
    if (liveWPM) liveWPM.textContent = '0';
    if (liveAccuracy) liveAccuracy.textContent = '100';
    if (liveErrors) liveErrors.textContent = '0';
    if (liveTime) liveTime.textContent = '00:00';
    
    if (timerDisplay) timerDisplay.innerHTML = '<i class="fas fa-stopwatch"></i> 00:00';
    if (progressBar) progressBar.style.width = '0%';
    
    const templateWords = currentTemplate ? currentTemplate.trim().split(/\s+/).length : 0;
    if (wordCount) wordCount.textContent = `Words: 0 / ${templateWords}`;
}

function completeSession(stats) {
    clearInterval(timerInterval);
    isTyping = false;
    
    if (proInput) proInput.disabled = true;
    
    // Update session statistics
    sessionStats.totalSessions++;
    const sessionTime = startTime ? (Date.now() - startTime) / 1000 : 0;
    sessionStats.totalTime += Math.round(sessionTime);
    
    // Save to localStorage
    localStorage.setItem('pro-skills-sessions', sessionStats.totalSessions.toString());
    localStorage.setItem('pro-skills-time', sessionStats.totalTime.toString());
    
    // Show completion message
    let message = 'Practice completed!';
    if (stats.accuracy >= 95 && stats.wpm >= 40) {
        message = 'Excellent work! Professional level achieved! üèÜ';
    } else if (stats.accuracy >= 90) {
        message = 'Great job! Keep practicing to improve speed! üëç';
    } else {
        message = 'Good effort! Focus on accuracy first, then speed! üí™';
    }
    
    setTimeout(() => alert(message), 500);
    
    // Reset button state
    if (startBtn) {
        startBtn.disabled = false;
        startBtn.innerHTML = '<i class="fas fa-play"></i> Start Practice';
    }
    
    console.log('Session completed with stats:', stats);
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    console.log('Professional Skills Lab initializing...');
    
    // Get DOM elements
    skillSelect = document.getElementById('pro-skill-select');
    templateArea = document.getElementById('template-area');
    proInput = document.getElementById('pro-input');
    wpmSpan = document.getElementById('wpm');
    accuracySpan = document.getElementById('accuracy');
    errorsSpan = document.getElementById('errors');
    progressSpan = document.getElementById('progress');
    startBtn = document.getElementById('start-pro-skill');
    resetBtn = document.getElementById('reset-practice');
    timerDisplay = document.getElementById('timer-display');
    wordCount = document.getElementById('word-count');
    progressBar = document.getElementById('progress-bar');
    
    // Live stats elements
    liveWPM = document.getElementById('live-wpm');
    liveAccuracy = document.getElementById('live-accuracy');
    liveErrors = document.getElementById('live-errors');
    liveTime = document.getElementById('live-time');
    
    console.log('Found elements:', {
        skillSelect: !!skillSelect,
        templateArea: !!templateArea,
        proInput: !!proInput,
        startBtn: !!startBtn,
        resetBtn: !!resetBtn
    });
    
    // Add event listeners
    if (skillSelect) {
        skillSelect.addEventListener('change', loadTemplate);
        console.log('‚úì Dropdown event listener added');
    }
    
    if (startBtn) {
        startBtn.addEventListener('click', startPractice);
        console.log('‚úì Start button event listener added');
    }
    
    if (resetBtn) {
        resetBtn.addEventListener('click', resetPractice);
        console.log('‚úì Reset button event listener added');
    }
    
    if (proInput) {
        proInput.addEventListener('input', () => {
            if (isTyping) updateStats();
        });
        
        proInput.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') resetPractice();
        });
        console.log('‚úì Input event listeners added');
    }
    
    // Initialize
    loadTemplate();
    
    console.log('üöÄ Professional Skills Lab ready!');
});

console.log('Professional Skills Lab script loaded successfully');
